[supervisord]
nodaemon=true
user=root
logfile=/app/supervisord.log
pidfile=/app/supervisord.pid

[program:nextjs]
command=node server.js
directory=/app
user=nextjs
autostart=true
autorestart=true
stderr_logfile=/app/nextjs.err.log
stdout_logfile=/app/nextjs.out.log
environment=NODE_ENV="production",PORT="3000",HOSTNAME="0.0.0.0"

[program:logs-server]
command=python3 logs-server.py
directory=/app
user=root
autostart=true
autorestart=true
stderr_logfile=/app/logs-server.err.log
stdout_logfile=/app/logs-server.out.log
environment=PYTHONUNBUFFERED="1"

[program:crontab-service]
command=/app/start-cron.sh
directory=/app
user=root
autostart=true
autorestart=true
stderr_logfile=/app/crontab-service.err.log
stdout_logfile=/app/crontab-service.out.log
